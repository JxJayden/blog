<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  
  <title>git 学习：远程仓库使用 | 代码与胡说</title>
  <meta name="description" content="我与我周旋久，宁作我。" />
  <meta name="keywords" content="hexo,blog,JxJayden,f2e, front-end" />
  <meta name="HandheldFriendly" content="True" />
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="1. 远程仓库建立（以 github 为例）
创建 SSH Key


打开 git Bash（linux打开shell），使用 $ ssh-keygen -t rsa -C &amp;quot;youremail@example.com&amp;quot;创建 SSH Key 你需要把邮件地址换成你自己的邮件地址，然后一路回车，使用默认值即可，由于这个Key也不是用于军事目的，所以也无需设置密码。如果一切顺利的">
<meta property="og:type" content="article">
<meta property="og:title" content="git 学习：远程仓库使用">
<meta property="og:url" content="http://blog.jxdjayden.cn/2016/07/29/git/git学习之远程仓库使用/index.html">
<meta property="og:site_name" content="代码与胡说">
<meta property="og:description" content="1. 远程仓库建立（以 github 为例）
创建 SSH Key


打开 git Bash（linux打开shell），使用 $ ssh-keygen -t rsa -C &amp;quot;youremail@example.com&amp;quot;创建 SSH Key 你需要把邮件地址换成你自己的邮件地址，然后一路回车，使用默认值即可，由于这个Key也不是用于军事目的，所以也无需设置密码。如果一切顺利的">
<meta property="og:updated_time" content="2016-08-03T16:09:18.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="git 学习：远程仓库使用">
<meta name="twitter:description" content="1. 远程仓库建立（以 github 为例）
创建 SSH Key


打开 git Bash（linux打开shell），使用 $ ssh-keygen -t rsa -C &amp;quot;youremail@example.com&amp;quot;创建 SSH Key 你需要把邮件地址换成你自己的邮件地址，然后一路回车，使用默认值即可，由于这个Key也不是用于军事目的，所以也无需设置密码。如果一切顺利的">
  
  
    <link rel="icon" href="//odgdn5u95.bkt.clouddn.com/facvion.jpeg">
  

	<script src="https://use.typekit.net/eyf3hir.js"></script>
  <script>try{Typekit.load({ async: false });}catch(e){}</script>
  <link rel="stylesheet" href="/style.css">
  <script>
    function setLoadingBarProgress(num) {
      document.getElementById('loading-bar').style.width=num+"%";
    }
  </script>
  

</head>

<body>
  
  <div id="loading-bar-wrapper">
  <div id="loading-bar"></div>
</div>

  <script>setLoadingBarProgress(20)</script>
  
  <div id="site-wrapper">
    
    <header id="header">
	<div id="header-wrapper" class="clearfix">
		<a id="logo" href="/">
			<img src="/images/logo.png" />
			<span id="site-desc">
			  我与我周旋久，宁作我。
      </span>
		</a>
		<button id="site-nav-switch">
	    <span class="icon icon-menu"></span>
	  </button>
	</div>
	<aside id="site-menu">
  	<nav>
  		
        <a href="/" class="nav-home nav">
          Home
        </a>
      
        <a href="/about" class="nav-about nav">
          About
        </a>
      
        <a href="/archives" class="nav-archives nav">
          Archives
        </a>
      
        <a href="/links" class="nav-Links nav">
          Links
        </a>
      
    </nav>
	</aside>
</header>
    <script>setLoadingBarProgress(40);</script>
    
    <main id="main" role="main">
      <article id="post-git/git学习之远程仓库使用"
  class="post article white-box article-type-post"
  itemscope itemprop="blogPost">
	<h2 class="title">
  	<a href="/2016/07/29/git/git学习之远程仓库使用/">
    	git 学习：远程仓库使用
    </a>
  </h2>
	<time>
	  7月 29, 2016
	</time>
	<section class="content">
  	<div class="article-entry" itemprop="articleBody">
    	<h1 id="1-远程仓库建立（以-github-为例）"><a href="#1-远程仓库建立（以-github-为例）" class="headerlink" title="1. 远程仓库建立（以 github 为例）"></a>1. 远程仓库建立（以 github 为例）</h1><ol>
<li>创建 SSH Key</li>
</ol>
<ul>
<li>打开 git Bash（linux打开shell），使用 <code>$ ssh-keygen -t rsa -C &quot;youremail@example.com&quot;</code>创建 SSH Key 你需要把邮件地址换成你自己的邮件地址，然后一路回车，使用默认值即可，由于这个Key也不是用于军事目的，所以也无需设置密码。如果一切顺利的话，可以在用户主目录里找到.ssh目录，里面有id_rsa和id_rsa.pub两个文件，这两个就是SSH Key 的秘钥对，id_rsa 是私钥，不能泄露出去，id_rsa.pub 是公钥，可以放心地告诉任何人。</li>
</ul>
<a id="more"></a>
<ol>
<li>登录 Github ，打开 “Account settings”，“SSH Keys” 页面：然后，点 “Add SSH Key”，填上任意 Title，在 Key 文本框里粘贴 id_rsa.pub 文件的内容。</li>
<li>创建 Github 仓库</li>
</ol>
<ul>
<li>登陆 GitHub，然后，在右上角找到 “Create a new repo” 按钮，创建一个新的仓库在 Repository name 填入 learngit，其他保持默认设置，点击 “Create repository” 按钮，就成功地创建了一个新的 Git 仓库。</li>
</ul>
<ol>
<li>与本地的仓库连接</li>
</ol>
<ul>
<li>在本地的仓库中运行 <code>$ git remote add origin git@github.com:yourgithubname/learngit.git</code> 命令；添加后，远程库的名字就是 origin，这是 Git 默认的叫法，也可以改成别的，但是 origin 这个名字一看就知道是远程库。</li>
</ul>
<ol>
<li><p>把本地库的内容推送到远程库上：</p>
 <figure class="highlight zsh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">$ git push -u origin master</div><div class="line">The authenticity of host <span class="string">'github.com (192.30.252.128)'</span> can<span class="string">'t be established.</span></div><div class="line">RSA key fingerprint is SHA256:nThbg6kXUpJWGl7E1IGOCspRomTxdCARLviKw6E5SY8.</div><div class="line">Are you sure you want to continue connecting (yes/no)? yes</div><div class="line">Warning: Permanently added 'github.com,192.30.252.128<span class="string">' (RSA) to the list of known hosts.</span></div><div class="line">Counting objects: 19, done.</div><div class="line">Delta compression using up to 4 threads.</div><div class="line">Compressing objects: 100% (13/13), done.</div><div class="line">Writing objects: 100% (19/19), 1.55 KiB | 0 bytes/s, done.</div><div class="line">Total 19 (delta 4), reused 0 (delta 0)</div><div class="line">To git@github.com:jayden-J/learngit.git</div><div class="line"></div><div class="line"> *[new branch]      master -&gt; master</div><div class="line">Branch master set up to track remote branch master from origin.</div></pre></td></tr></table></figure>
</li>
<li><p>从现在起，只要本地作了提交，就可以通过命令：<code>git push origin master</code>把本地master分支的最新修改推送至 GitHub.<br>当你第一次使用 Git 的 clone 或者 push 命令连接 GitHub 时，会得到一个警告：</p>
<blockquote>
<p>The authenticity of host ‘github.com (xx.xx.xx.xx)’ can’t be established.<br><br>RSA key fingerprint is xx.xx.xx.xx.xx.<br><br>Are you sure you want to continue connecting (yes/no)?</p>
</blockquote>
</li>
</ol>
<p>这是因为 Git 使用 SSH 连接，而 SSH 连接在第一次验证 GitHub 服务器的 Key 时，需要你确认 GitHub 的 Key 的指纹信息是否真的来自 GitHub 的服务器，输入 yes 回车即可。</p>
<h1 id="2-从远程库克隆"><a href="#2-从远程库克隆" class="headerlink" title="2. 从远程库克隆"></a>2. 从远程库克隆</h1><p>假设我们从零开发，那么最好的方式是先创建远程库，然后，从远程库克隆。</p>
<ol>
<li>登陆 Github ,创建一个新的仓库 gitskills 。</li>
<li>在本地使用命令 <code>git clone</code> 克隆一个本地库。<figure class="highlight zsh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">$ git <span class="built_in">clone</span> git@github.com:jayden-J/gitskills.git</div><div class="line">Cloning into <span class="string">'gitskills'</span>...</div><div class="line">Warning: Permanently added the RSA host key <span class="keyword">for</span> IP address <span class="string">'192.30.252.129'</span> to the list of known hosts.</div><div class="line">remote: Counting objects: 3, done.</div><div class="line">remote: Total 3 (delta 0), reused 0 (delta 0), pack-reused 0</div><div class="line">Receiving objects: 100% (3/3), done.</div><div class="line">Checking connectivity... done.</div></pre></td></tr></table></figure>
</li>
</ol>
<h1 id="3-分支管理"><a href="#3-分支管理" class="headerlink" title="3. 分支管理"></a>3. 分支管理</h1><ol>
<li><p>创建分支,使用 <code>git checkout -b name</code>。</p>
 <figure class="highlight zsh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ git checkout -b dev</div><div class="line">Switched to a new branch <span class="string">'dev'</span></div></pre></td></tr></table></figure>
</li>
<li><p>查看分支，使用 <code>git branch</code>。git branch 命令会列出所有分支，当前分支前面会标一个*号。 </p>
 <figure class="highlight zsh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$ git branch</div><div class="line">*dev</div><div class="line">master</div></pre></td></tr></table></figure>
</li>
<li><p>合并分支，<code>git merge</code> 命令用于合并指定分支到当前分支。</p>
 <figure class="highlight zsh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">$ git merge dev</div><div class="line">Updating d6f1ed3..177508b</div><div class="line">Fast-forward</div><div class="line">README.md | 3 ++-</div><div class="line">1 file changed, 2 insertions(+), 1 deletion(-)</div></pre></td></tr></table></figure>
</li>
</ol>
<p><em>注意到上面的 Fast-forward 信息，Git 告诉我们，这次合并是“快进模式”，也就是直接把 master 指向 dev 的当前提交，所以合并速度非常快。</em></p>
<ol>
<li><p>删除分支，使用 <code>git branch -d name</code> 命令。</p>
 <figure class="highlight zsh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ git branch <span class="_">-d</span> dev</div><div class="line">Deleted branch dev (was 177508b).</div></pre></td></tr></table></figure>
</li>
<li><p>解决分支冲突</p>
<ul>
<li>创建新的分支 featurel 并修改 README.md 内容后提交修改。</li>
<li>切换到 master 分支并修改一下内容。</li>
<li><p>这种情况下，Git 无法执行“快速合并”，只能试图把各自的修改合并起来，但这种合并就可能会有冲突。   </p>
<figure class="highlight zsh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">$ git merge featurel</div><div class="line">Auto-merging README.md</div><div class="line">CONFLICT (content): Merge conflict <span class="keyword">in</span> README.md</div><div class="line">Automatic merge failed; fix conflicts and <span class="keyword">then</span> commit the result.</div></pre></td></tr></table></figure>
</li>
<li><p>查看 readme.md 的文件内容：</p>
<blockquote>
<p>#gitskills<br><br>&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD<br><br>Creating a new branch is quick &amp; simple.<br><br> =======<br><br>Creating a new branch is quick AND simple.<br><br>>>>>>>>featurel</p>
</blockquote>
</li>
<li><p>Git 用&lt;&lt;&lt;&lt;&lt;&lt;&lt;，=======，&gt;&gt;&gt;&gt;&gt;&gt;&gt;标记出不同分支的内容，我们修改成“ Creating a new branch is quick and simple.  ”后保存。然后提交。</p>
<figure class="highlight zsh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ git commit -m <span class="string">"conflict fixed"</span></div><div class="line">[master b1ebfb2] conflict fixed</div></pre></td></tr></table></figure>
</li>
<li><p>用 <code>git log --graph</code> 命令可以看到分支合并图。</p>
</li>
<li>最后删除分支 featurel 。</li>
</ul>
</li>
</ol>
<h1 id="4-分支管理策略"><a href="#4-分支管理策略" class="headerlink" title="4. 分支管理策略"></a>4. 分支管理策略</h1><ol>
<li><p>在合并分支时，如果使用 <em>–no-ff</em> 方式的 git merge ，Git 就会在 merge 时生成一个新的 commit ，这样，从分支历史上就可以看出分支信息。</p>
<ul>
<li>创建分支 dev ，修改 readme.md 文件内容，并提交 commit 。</li>
<li>切换回 master ，准备合并 dev 分支，请注意 –no-ff 参数，表示禁用 Fast forward 。    <figure class="highlight zsh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">$ git merge --no-ff -m <span class="string">"merge with no-ff"</span> dev</div><div class="line">Merge made by the <span class="string">'recursive'</span> strategy.</div><div class="line"> readme.md | 1 +</div><div class="line"> 1 file changed, 1 insertion(+)</div></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>分支策略</p>
</li>
</ol>
<p><em>master 分支必须是非常稳定的，也就是仅用来发布新版本，平时不能在上面干活。工作都在 dev 分支上，也就是说，dev 分支是不稳定的，到某个时候，比如 1.0 版本发布时，再把 dev 分支合并到 master 上，在 master 分支发布 1.0 版本。</em></p>
<ol>
<li><p>当手头工作没有完成时，先把工作现场 git stash 一下，然后去修复 bug ，修复后，可以用 git stash list 查看。想要恢复，一是用 git stash apply 恢复，但是恢复后，stash 内容并不删除，你需要用 git stash drop 来删除；另一种方式是用 git stash pop ，恢复的同时把 stash 内容也删了。</p>
</li>
<li><p>Feature 分支</p>
<ul>
<li>每添加一个新功能，最好新建一个 feature 分支，在上面开发，完成后，合并，最后，删除该 feature 分支。</li>
<li><p>创建新分支,并创建新的文件，然后提交 commit 。</p>
  <figure class="highlight zsh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ git checkout -b feature-valcan</div><div class="line">Switched to a new branch <span class="string">'feature-valcan'</span></div></pre></td></tr></table></figure>
  <figure class="highlight zsh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">$ git add valcan.md</div><div class="line">$ git status</div><div class="line">On branch feature-valcan</div><div class="line">Changes to be committed:</div><div class="line">  (use <span class="string">"git reset HEAD &lt;file&gt;..."</span> to unstage)</div><div class="line">new file:   valcan.md</div></pre></td></tr></table></figure>
  <figure class="highlight zsh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">$ git commit -m <span class="string">"add feature vulcan"</span></div><div class="line">[feature-valcan 34b1ae9] add feature vulcan</div><div class="line"> 1 file changed, 1 insertion(+)</div><div class="line"> create mode 100644 valcan.md</div></pre></td></tr></table></figure>
</li>
<li><p>如果要丢弃一个没有被合并过的分支，可以通过 g<code>it branch -D &lt;name&gt;</code> 强行删除。 </p>
<figure class="highlight zsh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ git branch -D feature-valcan</div><div class="line">Deleted branch feature-valcan (was 34b1ae9).</div></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>多人协作</p>
<ul>
<li><p>要查看远程库的信息，用 <code>git remote</code> 。更详细的信息可以使用 <code>gti remote -v</code> 查看。</p>
  <figure class="highlight zsh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ git remote</div><div class="line">origin</div></pre></td></tr></table></figure>
  <figure class="highlight zsh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$ git remote -v</div><div class="line">origin  git@github.com:jayden-J/learngit.git (fetch)</div><div class="line">origin  git@github.com:jayden-J/learngit.git (push)</div></pre></td></tr></table></figure>
</li>
<li><p>推送分支</p>
<ul>
<li>推送分支，就是把该分支上的所有本地提交推送到远程库。推送时，要指定本地分支，<code>git push origin &lt;branch name&gt;</code>，Git就会把该分支推送到远程库对应的远程分支上.</li>
<li>但是，并不是一定要把本地分支往远程推送，那么，哪些分支需要推送，哪些不需要呢？<blockquote>
<p>master分支是主分支，因此要时刻与远程同步；<br><br>dev分支是开发分支，团队所有成员都需要在上面工作，所以也需要与远程同步；<br><br>bug分支只用于在本地修复bug，就没必要推到远程了，除非老板要看看你每周到底修复了几个bug；<br><br>feature分支是否推到远程，取决于你是否和你的小伙伴合作在上面开发。</p>
</blockquote>
</li>
</ul>
</li>
</ul>
</li>
</ol>
<blockquote>
<p>参考：<a href="http://www.liaoxuefeng.com/wiki/0013739516305929606dd18361248578c67b8067c8c017b000" target="_blank" rel="external">《Git 教程》</a>，by 廖雪峰</p>
</blockquote>

  	</div>

	  <div class="article-tags tags">
		  
        <a class="tag-link" href="/tags/git/">git</a>
      
	  </div>
	</section>
</article>


<section id="comments">
	<div id="disqus_thread"></div>
</section>



      <script>setLoadingBarProgress(60);</script>
    </main>
    
    <footer id="footer" class="clearfix">
  
  

	<div class="social-wrapper">
  	
      
        <a href="mailto:jxdjayden@gmail.com" class="social email"
          target="_blank" rel="external">
          <span class="icon icon-email"></span>
        </a>
      
        <a href="https://github.com/JxJayden" class="social github"
          target="_blank" rel="external">
          <span class="icon icon-github"></span>
        </a>
      
    
  </div>
  
  <div>Theme <span class="codename">Typescript</span> designed by <a href="http://rakugaki.me/" target="_blank">Art Chen</a>.</div>
  <div>&copy; <a href="/">代码与胡说</a></div>
  
</footer>


    <script>setLoadingBarProgress(80);</script>
    
  </div>

  
<script>
  var disqus_shortname = 'blog-jxdjayden-cn';
  
  var disqus_url = 'http://blog.jxdjayden.cn/2016/07/29/git/git学习之远程仓库使用/';
  
  (function(){
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>




<script src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
<script>window.jQuery || document.write('<script src="/js/jquery.min.js"><\/script>')</script>

<script src="/js/jquery.fitvids.js"></script>
<script>
	var GOOGLE_CUSTOM_SEARCH_API_KEY = "";
	var GOOGLE_CUSTOM_SEARCH_ENGINE_ID = "";
	var ALGOLIA_API_KEY = "";
	var ALGOLIA_APP_ID = "";
	var ALGOLIA_INDEX_NAME = "";
  var AZURE_SERVICE_NAME = "";
  var AZURE_INDEX_NAME = "";
  var AZURE_QUERY_KEY = "";
  var BAIDU_API_ID = "";
  var SEARCH_SERVICE = "";
</script>
<script src="/js/search.js"></script>
<script src="/js/app.js"></script>


  <script>setLoadingBarProgress(100);</script>
  
</body>
</html>
